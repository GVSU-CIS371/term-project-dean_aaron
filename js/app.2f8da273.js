(function(){"use strict";var e={600:function(e,a,t){var r=t(3751),s=t(641),o=t(33);const l={class:"task-manager"},i={key:0,class:"user-section"},n={key:1},u={key:0,class:"modal"},c={class:"modal-content"},d={class:"form-group"},p={class:"form-group"},m={class:"form-actions"},g={key:1,class:"modal"},v={class:"modal-content"},y={class:"form-group"},k={class:"form-group"},f={class:"form-group"},h={class:"form-actions"},w={key:2},b={key:3,class:"landing-page"},L={class:"cta-buttons"};function F(e,a,t,F,D,R){return(0,s.uX)(),(0,s.CE)("div",l,[(0,s.Lk)("header",null,[a[14]||(a[14]=(0,s.Lk)("h1",null,"Personal Task Manager",-1)),F.user?((0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("span",null,(0,o.v_)(F.user.displayName),1),(0,s.Lk)("button",{onClick:a[0]||(a[0]=(...e)=>F.logout&&F.logout(...e)),class:"btn btn-sm"},"Logout")])):((0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("button",{onClick:a[1]||(a[1]=e=>F.showLoginForm=!0),class:"btn"},"Login"),(0,s.Lk)("button",{onClick:a[2]||(a[2]=e=>F.showRegisterForm=!0),class:"btn btn-primary"},"Register")]))]),F.showLoginForm?((0,s.uX)(),(0,s.CE)("div",u,[(0,s.Lk)("div",c,[a[18]||(a[18]=(0,s.Lk)("h2",null,"Login",-1)),(0,s.Lk)("form",{onSubmit:a[6]||(a[6]=(0,r.D$)(((...e)=>F.login&&F.login(...e)),["prevent"]))},[(0,s.Lk)("div",d,[a[15]||(a[15]=(0,s.Lk)("label",null,"Email:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":a[3]||(a[3]=e=>F.loginForm.email=e),required:""},null,512),[[r.Jo,F.loginForm.email]])]),(0,s.Lk)("div",p,[a[16]||(a[16]=(0,s.Lk)("label",null,"Password:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":a[4]||(a[4]=e=>F.loginForm.password=e),required:""},null,512),[[r.Jo,F.loginForm.password]])]),(0,s.Lk)("div",m,[(0,s.Lk)("button",{type:"button",onClick:a[5]||(a[5]=e=>F.showLoginForm=!1),class:"btn"},"Cancel"),a[17]||(a[17]=(0,s.Lk)("button",{type:"submit",class:"btn btn-primary"},"Login",-1))])],32)])])):(0,s.Q3)("",!0),F.showRegisterForm?((0,s.uX)(),(0,s.CE)("div",g,[(0,s.Lk)("div",v,[a[23]||(a[23]=(0,s.Lk)("h2",null,"Register",-1)),(0,s.Lk)("form",{onSubmit:a[11]||(a[11]=(0,r.D$)(((...e)=>F.register&&F.register(...e)),["prevent"]))},[(0,s.Lk)("div",y,[a[19]||(a[19]=(0,s.Lk)("label",null,"Display Name:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[7]||(a[7]=e=>F.registerForm.displayName=e),required:""},null,512),[[r.Jo,F.registerForm.displayName]])]),(0,s.Lk)("div",k,[a[20]||(a[20]=(0,s.Lk)("label",null,"Email:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":a[8]||(a[8]=e=>F.registerForm.email=e),required:""},null,512),[[r.Jo,F.registerForm.email]])]),(0,s.Lk)("div",f,[a[21]||(a[21]=(0,s.Lk)("label",null,"Password:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":a[9]||(a[9]=e=>F.registerForm.password=e),required:"",minlength:"6"},null,512),[[r.Jo,F.registerForm.password]])]),(0,s.Lk)("div",h,[(0,s.Lk)("button",{type:"button",onClick:a[10]||(a[10]=e=>F.showRegisterForm=!1),class:"btn"},"Cancel"),a[22]||(a[22]=(0,s.Lk)("button",{type:"submit",class:"btn btn-primary"},"Register",-1))])],32)])])):(0,s.Q3)("",!0),F.user?((0,s.uX)(),(0,s.CE)("main",w)):(0,s.Q3)("",!0),F.user?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",b,[a[24]||(a[24]=(0,s.Lk)("h2",null,"Welcome to Personal Task Manager",-1)),a[25]||(a[25]=(0,s.Lk)("p",null,"Organize your tasks, collaborate with others, and boost your productivity!",-1)),(0,s.Lk)("div",L,[(0,s.Lk)("button",{onClick:a[12]||(a[12]=e=>F.showLoginForm=!0),class:"btn btn-lg"},"Login"),(0,s.Lk)("button",{onClick:a[13]||(a[13]=e=>F.showRegisterForm=!0),class:"btn btn-primary btn-lg"},"Get Started")])]))])}t(4114),t(8111),t(2489),t(116),t(7588),t(1701);var D=t(953),R=t(7783),E=t(1884),T=t(223);const O={apiKey:"AIzaSyDuQ5U_jvbDYwHIyvGGlIso09Vc9jnMoWU",authDomain:"termproject-89a0d.firebaseapp.com",projectId:"termproject-89a0d",storageBucket:"termproject-89a0d.firebasestorage.app",messagingSenderId:"718048077031",appId:"1:718048077031:web:0746e272b7399ac2bdee42"},P=(0,T.Wp)(O),C=(0,R.xI)(P),K=(0,E.aU)(P);var S={name:"TaskManager",setup(){const e=(0,D.KR)(null),a=(0,D.KR)([]),t=(0,D.KR)([]),r=(0,D.KR)([]),o=(0,D.KR)(!1),l=(0,D.KR)(!1),i=(0,D.KR)(!1),n=(0,D.KR)(!1),u=(0,D.KR)(!1),c=(0,D.KR)(!1),d=(0,D.KR)({email:"",password:""}),p=(0,D.KR)({displayName:"",email:"",password:""}),m=(0,D.KR)({title:"",description:"",dueDate:"",priority:"Medium",category:""}),g=(0,D.KR)({name:"",color:"#3498db",isDefault:!1}),v=(0,D.KR)({title:"",description:"",selectedTasks:[],isPublic:!1}),y=(0,D.KR)({emails:""}),k=(0,D.KR)(null),f=(0,D.KR)(null),h=(0,D.KR)(null),w=(0,D.KR)(!1),b=(0,D.KR)("all"),L=(0,D.KR)("dueDate"),F=(0,s.EW)((()=>{let e=[...a.value];if(h.value?e=e.filter((e=>e.category===h.value)):w.value&&(e=e.filter((e=>!e.category||""===e.category))),"all"!==b.value&&(e=e.filter((e=>e.status===b.value))),"dueDate"===L.value)e.sort(((e,a)=>new Date(e.dueDate)-new Date(a.dueDate)));else if("priority"===L.value){const a={High:1,Medium:2,Low:3};e.sort(((e,t)=>a[e.priority]-a[t.priority]))}else"creationDate"===L.value&&e.sort(((e,a)=>new Date(a.creationDate)-new Date(e.creationDate)));return e})),T=async()=>{try{const e=await(0,R.eJ)(C,p.value.email,p.value.password);await(0,R.r7)(e.user,{displayName:p.value.displayName}),await(0,E.BN)((0,E.H9)(K,"users",e.user.uid),{email:p.value.email,displayName:p.value.displayName,lastLogin:(0,E.O5)()}),l.value=!1,p.value={displayName:"",email:"",password:""}}catch(e){console.error("Registration error:",e),alert(`Registration failed: ${e.message}`)}},O=async()=>{try{await(0,R.x9)(C,d.value.email,d.value.password),o.value=!1,d.value={email:"",password:""}}catch(e){console.error("Login error:",e),alert(`Login failed: ${e.message}`)}},P=async()=>{try{await(0,R.CI)(C)}catch(e){console.error("Logout error:",e)}},S=async()=>{await Promise.all([M(),I(),J()])},M=async()=>{try{const t=e.value.uid,r=(0,E.P)((0,E.rJ)(K,"tasks"),(0,E._M)("userId","==",t)),s=(0,E.P)((0,E.rJ)(K,"tasks"),(0,E._M)("sharedWith","array-contains",t)),[o,l]=await Promise.all([(0,E.GG)(r),(0,E.GG)(s)]),i=[];o.forEach((e=>{i.push({id:e.id,...e.data(),isOwner:!0})})),l.forEach((e=>{i.push({id:e.id,...e.data(),isOwner:!1})})),a.value=i}catch(t){console.error("Error fetching tasks:",t)}},I=async()=>{try{const a=e.value.uid,r=(0,E.P)((0,E.rJ)(K,"categories"),(0,E._M)("userId","==",a)),s=await(0,E.GG)(r),o=[];if(s.forEach((e=>{o.push({id:e.id,...e.data()})})),t.value=o,null===h.value&&!1===w.value&&t.value.length>0){const e=t.value.find((e=>e.isDefault))||t.value[0];h.value=e.id}}catch(a){console.error("Error fetching categories:",a)}},J=async()=>{try{const e=(0,E.P)((0,E.rJ)(K,"sharedTemplates"),(0,E._M)("isPublic","==",!0)),a=await(0,E.GG)(e),t=[];a.forEach((e=>{t.push({id:e.id,...e.data()})})),r.value=t}catch(e){console.error("Error fetching templates:",e)}},N=e=>{k.value=e,m.value={title:e.title,description:e.description,dueDate:e.dueDate,priority:e.priority,category:e.category||"",status:e.status},i.value=!0},G=async()=>{try{if(k.value){const e=(0,E.H9)(K,"tasks",k.value.id);await(0,E.mZ)(e,{...m.value,lastModified:(0,E.O5)()})}else await(0,E.gS)((0,E.rJ)(K,"tasks"),{...m.value,userId:e.value.uid,status:"Not Started",creationDate:(0,E.O5)(),lastModified:(0,E.O5)(),isShared:!1,sharedWith:[]});i.value=!1,m.value={title:"",description:"",dueDate:"",priority:"Medium",category:h.value||""},k.value=null,await M()}catch(a){console.error("Error saving task:",a),alert("Failed to save task. Please try again.")}},j=async e=>{if(confirm("Are you sure you want to delete this task?"))try{await(0,E.kd)((0,E.H9)(K,"tasks",e)),await M()}catch(a){console.error("Error deleting task:",a),alert("Failed to delete task. Please try again.")}},_=async e=>{try{const a=(0,E.H9)(K,"tasks",e.id);await(0,E.mZ)(a,{status:e.status,lastModified:(0,E.O5)()})}catch(a){console.error("Error updating task status:",a),alert("Failed to update task status. Please try again."),await M()}},x=async()=>{try{await(0,E.gS)((0,E.rJ)(K,"categories"),{...g.value,userId:e.value.uid}),n.value=!1,g.value={name:"",color:"#3498db",isDefault:!1},await I()}catch(a){console.error("Error saving category:",a),alert("Failed to save category. Please try again.")}},U=async()=>{try{const t=[];for(const e of v.value.selectedTasks){const r=a.value.find((a=>a.id===e));r&&t.push({title:r.title,description:r.description,priority:r.priority,category:r.category})}await(0,E.gS)((0,E.rJ)(K,"sharedTemplates"),{title:v.value.title,description:v.value.description,tasks:t,isPublic:v.value.isPublic,creatorId:e.value.uid,downloadCount:0,createdAt:(0,E.O5)()}),u.value=!1,v.value={title:"",description:"",selectedTasks:[],isPublic:!1},await J()}catch(t){console.error("Error creating template:",t),alert("Failed to create template. Please try again.")}},W=async a=>{try{for(const t of a.tasks)await(0,E.gS)((0,E.rJ)(K,"tasks"),{...t,userId:e.value.uid,dueDate:B(),status:"Not Started",creationDate:(0,E.O5)(),lastModified:(0,E.O5)(),isShared:!1,sharedWith:[]});await M(),alert(`Template "${a.title}" applied successfully!`)}catch(t){console.error("Error applying template:",t),alert("Failed to apply template. Please try again.")}},H=async()=>{try{const e=y.value.emails.split(",").map((e=>e.trim())).filter((e=>e));if(0===e.length)return void alert("Please enter at least one email address.");const a=[];for(const r of e){const e=(0,E.P)((0,E.rJ)(K,"users"),(0,E._M)("email","==",r)),t=await(0,E.GG)(e);t.empty||t.forEach((e=>{a.push(e.id)}))}const t=(0,E.H9)(K,"tasks",f.value.id);a.length>0?await(0,E.mZ)(t,{isShared:!0,sharedWith:(0,E.hq)(...a),lastModified:(0,E.O5)()}):await(0,E.mZ)(t,{isShared:!0,lastModified:(0,E.O5)()}),c.value=!1,y.value={emails:""},f.value=null,await M(),alert("Task shared successfully!")}catch(e){console.error("Error sharing task:",e),alert("Failed to share task. Please try again.")}},V=(e,a)=>{a?(h.value=null,w.value=!1):null===e?(h.value=null,w.value=!0):(h.value=e,w.value=!1)},X=e=>{b.value=e},q=e=>{if(!e)return"No due date";const a=new Date(e);return a.toLocaleDateString()},B=()=>{const e=new Date;return e.setDate(e.getDate()+7),e.toISOString().split("T")[0]};return(0,s.sV)((()=>{const s=(0,R.hg)(C,(s=>{e.value=s,s?S():(a.value=[],t.value=[],r.value=[])}));return()=>s()})),{user:e,tasks:a,categories:t,templates:r,filteredTasks:F,showLoginForm:o,showRegisterForm:l,showTaskForm:i,showCategoryForm:n,showTemplateForm:u,showShareTaskForm:c,loginForm:d,registerForm:p,taskForm:m,categoryForm:g,templateForm:v,shareTaskForm:y,editingTask:k,taskToShare:f,selectedCategory:h,uncategorizedOnly:w,statusFilter:b,sortBy:L,register:T,login:O,logout:P,fetchData:S,editTask:N,saveTask:G,deleteTask:j,updateTaskStatus:_,saveCategory:x,saveTemplate:U,useTemplate:W,shareTask:H,filterByCategory:V,filterByStatus:X,formatDate:q}}},M=t(6262);const I=(0,M.A)(S,[["render",F]]);var J=I;(0,r.Ef)(J).mount("#app")}},a={};function t(r){var s=a[r];if(void 0!==s)return s.exports;var o=a[r]={exports:{}};return e[r].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(a,r,s,o){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],s=e[c][1],o=e[c][2];for(var i=!0,n=0;n<r.length;n++)(!1&o||l>=o)&&Object.keys(t.O).every((function(e){return t.O[e](r[n])}))?r.splice(n--,1):(i=!1,o<l&&(l=o));if(i){e.splice(c--,1);var u=s();void 0!==u&&(a=u)}}return a}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,s,o]}}(),function(){t.d=function(e,a){for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,r){var s,o,l=r[0],i=r[1],n=r[2],u=0;if(l.some((function(a){return 0!==e[a]}))){for(s in i)t.o(i,s)&&(t.m[s]=i[s]);if(n)var c=n(t)}for(a&&a(r);u<l.length;u++)o=l[u],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},r=self["webpackChunktask_manager"]=self["webpackChunktask_manager"]||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))}();var r=t.O(void 0,[504],(function(){return t(600)}));r=t.O(r)})();
//# sourceMappingURL=app.2f8da273.js.map