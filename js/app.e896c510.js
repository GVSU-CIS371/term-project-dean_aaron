(function(){"use strict";var e={1473:function(e,t,a){var l=a(3751),o=a(641),s=a(33);const r={class:"task-manager"},i={key:0,class:"user-section"},n={key:1},u={key:0,class:"modal"},c={class:"modal-content"},d={class:"form-group"},k={class:"form-group"},m={class:"form-actions"},p={key:1,class:"modal"},v={class:"modal-content"},y={class:"form-group"},g={class:"form-group"},L={class:"form-group"},b={class:"form-actions"},h={key:2},f={class:"dashboard"},C={class:"sidebar"},w={class:"categories"},F=["onClick"],T={class:"filters"},D={class:"templates"},S=["onClick"],E={class:"content"},P={class:"controls"},R={class:"sort-controls"},O={class:"tasks-container"},I={class:"task-header"},K={class:"task-actions"},U=["onClick"],X=["onClick"],J=["onClick"],N={class:"task-description"},V={class:"task-footer"},x={class:"task-meta"},M={class:"task-due-date"},_={class:"task-priority"},Q={class:"task-status"},B=["onUpdate:modelValue","onChange"],G={key:0,class:"no-tasks"},j={key:0,class:"modal"},H={class:"modal-content"},A={class:"form-group"},W={class:"form-group"},q={class:"form-group"},$={class:"form-group"},z={class:"form-group"},Z=["value"],Y={key:0,class:"form-group"},ee={class:"form-actions"},te={key:1,class:"modal"},ae={class:"modal-content"},le={class:"form-group"},oe={class:"form-group"},se={class:"form-group"},re={class:"form-actions"},ie={key:2,class:"modal"},ne={class:"modal-content"},ue={class:"form-group"},ce={class:"form-group"},de={class:"form-group"},ke={class:"template-tasks-selection"},me=["value"],pe={class:"form-group"},ve={class:"form-actions"},ye={key:3,class:"modal"},ge={class:"modal-content"},Le={class:"form-group"},be={class:"form-actions"},he={key:3,class:"landing-page"},fe={class:"cta-buttons"};function Ce(e,t,a,Ce,we,Fe){return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("header",null,[t[47]||(t[47]=(0,o.Lk)("h1",null,"Personal Task Manager",-1)),Ce.user?((0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("span",null,(0,s.v_)(Ce.user.displayName),1),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>Ce.logout&&Ce.logout(...e)),class:"btn btn-sm"},"Logout")])):((0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=e=>Ce.showLoginForm=!0),class:"btn"},"Login"),(0,o.Lk)("button",{onClick:t[2]||(t[2]=e=>Ce.showRegisterForm=!0),class:"btn btn-primary"},"Register")]))]),Ce.showLoginForm?((0,o.uX)(),(0,o.CE)("div",u,[(0,o.Lk)("div",c,[t[51]||(t[51]=(0,o.Lk)("h2",null,"Login",-1)),(0,o.Lk)("form",{onSubmit:t[6]||(t[6]=(0,l.D$)(((...e)=>Ce.login&&Ce.login(...e)),["prevent"]))},[(0,o.Lk)("div",d,[t[48]||(t[48]=(0,o.Lk)("label",null,"Email:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=e=>Ce.loginForm.email=e),required:""},null,512),[[l.Jo,Ce.loginForm.email]])]),(0,o.Lk)("div",k,[t[49]||(t[49]=(0,o.Lk)("label",null,"Password:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[4]||(t[4]=e=>Ce.loginForm.password=e),required:""},null,512),[[l.Jo,Ce.loginForm.password]])]),(0,o.Lk)("div",m,[(0,o.Lk)("button",{type:"button",onClick:t[5]||(t[5]=e=>Ce.showLoginForm=!1),class:"btn"},"Cancel"),t[50]||(t[50]=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Login",-1))])],32)])])):(0,o.Q3)("",!0),Ce.showRegisterForm?((0,o.uX)(),(0,o.CE)("div",p,[(0,o.Lk)("div",v,[t[56]||(t[56]=(0,o.Lk)("h2",null,"Register",-1)),(0,o.Lk)("form",{onSubmit:t[11]||(t[11]=(0,l.D$)(((...e)=>Ce.register&&Ce.register(...e)),["prevent"]))},[(0,o.Lk)("div",y,[t[52]||(t[52]=(0,o.Lk)("label",null,"Display Name:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>Ce.registerForm.displayName=e),required:""},null,512),[[l.Jo,Ce.registerForm.displayName]])]),(0,o.Lk)("div",g,[t[53]||(t[53]=(0,o.Lk)("label",null,"Email:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[8]||(t[8]=e=>Ce.registerForm.email=e),required:""},null,512),[[l.Jo,Ce.registerForm.email]])]),(0,o.Lk)("div",L,[t[54]||(t[54]=(0,o.Lk)("label",null,"Password:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[9]||(t[9]=e=>Ce.registerForm.password=e),required:"",minlength:"6"},null,512),[[l.Jo,Ce.registerForm.password]])]),(0,o.Lk)("div",b,[(0,o.Lk)("button",{type:"button",onClick:t[10]||(t[10]=e=>Ce.showRegisterForm=!1),class:"btn"},"Cancel"),t[55]||(t[55]=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Register",-1))])],32)])])):(0,o.Q3)("",!0),Ce.user?((0,o.uX)(),(0,o.CE)("main",h,[(0,o.Lk)("div",f,[(0,o.Lk)("div",C,[(0,o.Lk)("div",w,[t[57]||(t[57]=(0,o.Lk)("h3",null,"Categories",-1)),(0,o.Lk)("ul",null,[(0,o.Lk)("li",{onClick:t[12]||(t[12]=e=>Ce.filterByCategory(null,!0)),class:(0,s.C4)({active:null===Ce.selectedCategory&&!Ce.uncategorizedOnly}),style:{borderLeft:"4px solid #95a5a6"}}," All Categories ",2),(0,o.Lk)("li",{onClick:t[13]||(t[13]=e=>Ce.filterByCategory(null,!1)),class:(0,s.C4)({active:null===Ce.selectedCategory&&Ce.uncategorizedOnly}),style:{borderLeft:"4px solid #95a5a6"}}," Uncategorized ",2),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Ce.categories,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id,onClick:t=>Ce.filterByCategory(e.id,!1),class:(0,s.C4)({active:Ce.selectedCategory===e.id}),style:(0,s.Tr)({borderLeft:`4px solid ${e.color}`})},(0,s.v_)(e.name),15,F)))),128)),(0,o.Lk)("li",{class:"add-category",onClick:t[14]||(t[14]=e=>Ce.showCategoryForm=!0)},"+ Add Category")])]),(0,o.Lk)("div",T,[t[58]||(t[58]=(0,o.Lk)("h3",null,"Filters",-1)),(0,o.Lk)("ul",null,[(0,o.Lk)("li",{onClick:t[15]||(t[15]=e=>Ce.filterByStatus("all")),class:(0,s.C4)({active:"all"===Ce.statusFilter})}," All Tasks ",2),(0,o.Lk)("li",{onClick:t[16]||(t[16]=e=>Ce.filterByStatus("Not Started")),class:(0,s.C4)({active:"Not Started"===Ce.statusFilter})}," Not Started ",2),(0,o.Lk)("li",{onClick:t[17]||(t[17]=e=>Ce.filterByStatus("In Progress")),class:(0,s.C4)({active:"In Progress"===Ce.statusFilter})}," In Progress ",2),(0,o.Lk)("li",{onClick:t[18]||(t[18]=e=>Ce.filterByStatus("Completed")),class:(0,s.C4)({active:"Completed"===Ce.statusFilter})}," Completed ",2)])]),(0,o.Lk)("div",D,[t[59]||(t[59]=(0,o.Lk)("h3",null,"Templates",-1)),(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Ce.templates,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id,onClick:t=>Ce.useTemplate(e)},(0,s.v_)(e.title),9,S)))),128)),(0,o.Lk)("li",{class:"add-template",onClick:t[19]||(t[19]=e=>Ce.showTemplateForm=!0)},"+ Create Template")])])]),(0,o.Lk)("div",E,[(0,o.Lk)("div",P,[(0,o.Lk)("button",{onClick:t[20]||(t[20]=e=>Ce.showTaskForm=!0),class:"btn btn-primary"},"+ Add Task"),(0,o.Lk)("div",R,[t[61]||(t[61]=(0,o.Lk)("label",null,"Sort by:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[21]||(t[21]=e=>Ce.sortBy=e),onChange:t[22]||(t[22]=(...e)=>Ce.sortTasks&&Ce.sortTasks(...e))},t[60]||(t[60]=[(0,o.Lk)("option",{value:"dueDate"},"Due Date",-1),(0,o.Lk)("option",{value:"priority"},"Priority",-1),(0,o.Lk)("option",{value:"creationDate"},"Creation Date",-1)]),544),[[l.u1,Ce.sortBy]])])]),(0,o.Lk)("div",O,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Ce.filteredTasks,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,s.C4)(["task-card",{"priority-high":"High"===e.priority,"priority-medium":"Medium"===e.priority,"priority-low":"Low"===e.priority,"status-completed":"Completed"===e.status}])},[(0,o.Lk)("div",I,[(0,o.Lk)("h3",null,(0,s.v_)(e.title),1),(0,o.Lk)("div",K,[e.isOwner?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t=>Ce.editTask(e),class:"btn-icon"},"✏️",8,U)):(0,o.Q3)("",!0),e.isOwner?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t=>Ce.deleteTask(e.id),class:"btn-icon"},"🗑️",8,X)):(0,o.Q3)("",!0),e.isOwner?((0,o.uX)(),(0,o.CE)("button",{key:2,onClick:t=>{Ce.showShareTaskForm=!0,Ce.taskToShare=e},class:(0,s.C4)(["btn-icon",{shared:e.isShared}])}," 🔗 ",10,J)):(0,o.Q3)("",!0)])]),(0,o.Lk)("p",N,(0,s.v_)(e.description),1),(0,o.Lk)("div",V,[(0,o.Lk)("div",x,[(0,o.Lk)("span",M,"Due: "+(0,s.v_)(Ce.formatDate(e.dueDate)),1),(0,o.Lk)("span",_,(0,s.v_)(e.priority),1)]),(0,o.Lk)("div",Q,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t=>e.status=t,onChange:t=>Ce.updateTaskStatus(e)},t[62]||(t[62]=[(0,o.Lk)("option",{value:"Not Started"},"Not Started",-1),(0,o.Lk)("option",{value:"In Progress"},"In Progress",-1),(0,o.Lk)("option",{value:"Completed"},"Completed",-1)]),40,B),[[l.u1,e.status]])])])],2)))),128)),0===Ce.filteredTasks.length?((0,o.uX)(),(0,o.CE)("div",G,t[63]||(t[63]=[(0,o.Lk)("p",null,"No tasks to display. Add a new task to get started!",-1)]))):(0,o.Q3)("",!0)])])]),Ce.showTaskForm?((0,o.uX)(),(0,o.CE)("div",j,[(0,o.Lk)("div",H,[(0,o.Lk)("h2",null,(0,s.v_)(Ce.editingTask?"Edit Task":"Add New Task"),1),(0,o.Lk)("form",{onSubmit:t[30]||(t[30]=(0,l.D$)(((...e)=>Ce.saveTask&&Ce.saveTask(...e)),["prevent"]))},[(0,o.Lk)("div",A,[t[64]||(t[64]=(0,o.Lk)("label",null,"Title:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[23]||(t[23]=e=>Ce.taskForm.title=e),required:""},null,512),[[l.Jo,Ce.taskForm.title]])]),(0,o.Lk)("div",W,[t[65]||(t[65]=(0,o.Lk)("label",null,"Description:",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[24]||(t[24]=e=>Ce.taskForm.description=e),rows:"3"},null,512),[[l.Jo,Ce.taskForm.description]])]),(0,o.Lk)("div",q,[t[66]||(t[66]=(0,o.Lk)("label",null,"Due Date:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"date","onUpdate:modelValue":t[25]||(t[25]=e=>Ce.taskForm.dueDate=e),required:""},null,512),[[l.Jo,Ce.taskForm.dueDate]])]),(0,o.Lk)("div",$,[t[68]||(t[68]=(0,o.Lk)("label",null,"Priority:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[26]||(t[26]=e=>Ce.taskForm.priority=e)},t[67]||(t[67]=[(0,o.Lk)("option",{value:"High"},"High",-1),(0,o.Lk)("option",{value:"Medium"},"Medium",-1),(0,o.Lk)("option",{value:"Low"},"Low",-1)]),512),[[l.u1,Ce.taskForm.priority]])]),(0,o.Lk)("div",z,[t[70]||(t[70]=(0,o.Lk)("label",null,"Category:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[27]||(t[27]=e=>Ce.taskForm.category=e)},[t[69]||(t[69]=(0,o.Lk)("option",{value:""},"No Category",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Ce.categories,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.name),9,Z)))),128))],512),[[l.u1,Ce.taskForm.category]])]),Ce.editingTask?((0,o.uX)(),(0,o.CE)("div",Y,[t[72]||(t[72]=(0,o.Lk)("label",null,"Status:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[28]||(t[28]=e=>Ce.taskForm.status=e)},t[71]||(t[71]=[(0,o.Lk)("option",{value:"Not Started"},"Not Started",-1),(0,o.Lk)("option",{value:"In Progress"},"In Progress",-1),(0,o.Lk)("option",{value:"Completed"},"Completed",-1)]),512),[[l.u1,Ce.taskForm.status]])])):(0,o.Q3)("",!0),(0,o.Lk)("div",ee,[(0,o.Lk)("button",{type:"button",onClick:t[29]||(t[29]=e=>Ce.showTaskForm=!1),class:"btn"},"Cancel"),t[73]||(t[73]=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Save",-1))])],32)])])):(0,o.Q3)("",!0),Ce.showCategoryForm?((0,o.uX)(),(0,o.CE)("div",te,[(0,o.Lk)("div",ae,[t[78]||(t[78]=(0,o.Lk)("h2",null,"Add Category",-1)),(0,o.Lk)("form",{onSubmit:t[35]||(t[35]=(0,l.D$)(((...e)=>Ce.saveCategory&&Ce.saveCategory(...e)),["prevent"]))},[(0,o.Lk)("div",le,[t[74]||(t[74]=(0,o.Lk)("label",null,"Name:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[31]||(t[31]=e=>Ce.categoryForm.name=e),required:""},null,512),[[l.Jo,Ce.categoryForm.name]])]),(0,o.Lk)("div",oe,[t[75]||(t[75]=(0,o.Lk)("label",null,"Color:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"color","onUpdate:modelValue":t[32]||(t[32]=e=>Ce.categoryForm.color=e)},null,512),[[l.Jo,Ce.categoryForm.color]])]),(0,o.Lk)("div",se,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[33]||(t[33]=e=>Ce.categoryForm.isDefault=e)},null,512),[[l.lH,Ce.categoryForm.isDefault]]),t[76]||(t[76]=(0,o.eW)(" Set as default "))])]),(0,o.Lk)("div",re,[(0,o.Lk)("button",{type:"button",onClick:t[34]||(t[34]=e=>Ce.showCategoryForm=!1),class:"btn"},"Cancel"),t[77]||(t[77]=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Save",-1))])],32)])])):(0,o.Q3)("",!0),Ce.showTemplateForm?((0,o.uX)(),(0,o.CE)("div",ie,[(0,o.Lk)("div",ne,[t[84]||(t[84]=(0,o.Lk)("h2",null,"Create Template",-1)),(0,o.Lk)("form",{onSubmit:t[41]||(t[41]=(0,l.D$)(((...e)=>Ce.saveTemplate&&Ce.saveTemplate(...e)),["prevent"]))},[(0,o.Lk)("div",ue,[t[79]||(t[79]=(0,o.Lk)("label",null,"Title:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[36]||(t[36]=e=>Ce.templateForm.title=e),required:""},null,512),[[l.Jo,Ce.templateForm.title]])]),(0,o.Lk)("div",ce,[t[80]||(t[80]=(0,o.Lk)("label",null,"Description:",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[37]||(t[37]=e=>Ce.templateForm.description=e),rows:"3"},null,512),[[l.Jo,Ce.templateForm.description]])]),(0,o.Lk)("div",de,[t[81]||(t[81]=(0,o.Lk)("label",null,"Include Tasks:",-1)),(0,o.Lk)("div",ke,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Ce.tasks,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"template-task-item"},[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[38]||(t[38]=e=>Ce.templateForm.selectedTasks=e),value:e.id},null,8,me),[[l.lH,Ce.templateForm.selectedTasks]]),(0,o.eW)(" "+(0,s.v_)(e.title),1)])])))),128))])]),(0,o.Lk)("div",pe,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[39]||(t[39]=e=>Ce.templateForm.isPublic=e)},null,512),[[l.lH,Ce.templateForm.isPublic]]),t[82]||(t[82]=(0,o.eW)(" Make template public "))])]),(0,o.Lk)("div",ve,[(0,o.Lk)("button",{type:"button",onClick:t[40]||(t[40]=e=>Ce.showTemplateForm=!1),class:"btn"},"Cancel"),t[83]||(t[83]=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Save",-1))])],32)])])):(0,o.Q3)("",!0),Ce.showShareTaskForm?((0,o.uX)(),(0,o.CE)("div",ye,[(0,o.Lk)("div",ge,[t[87]||(t[87]=(0,o.Lk)("h2",null,"Share Task",-1)),(0,o.Lk)("form",{onSubmit:t[44]||(t[44]=(0,l.D$)(((...e)=>Ce.shareTask&&Ce.shareTask(...e)),["prevent"]))},[(0,o.Lk)("div",Le,[t[85]||(t[85]=(0,o.Lk)("label",null,"Share with (emails, comma separated):",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[42]||(t[42]=e=>Ce.shareTaskForm.emails=e),placeholder:"user1@example.com, user2@example.com"},null,512),[[l.Jo,Ce.shareTaskForm.emails]])]),(0,o.Lk)("div",be,[(0,o.Lk)("button",{type:"button",onClick:t[43]||(t[43]=e=>Ce.showShareTaskForm=!1),class:"btn"},"Cancel"),t[86]||(t[86]=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Share",-1))])],32)])])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),Ce.user?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",he,[t[88]||(t[88]=(0,o.Lk)("h2",null,"Welcome to Personal Task Manager",-1)),t[89]||(t[89]=(0,o.Lk)("p",null,"Organize your tasks, collaborate with others, and boost your productivity!",-1)),(0,o.Lk)("div",fe,[(0,o.Lk)("button",{onClick:t[45]||(t[45]=e=>Ce.showLoginForm=!0),class:"btn btn-lg"},"Login"),(0,o.Lk)("button",{onClick:t[46]||(t[46]=e=>Ce.showRegisterForm=!0),class:"btn btn-primary btn-lg"},"Get Started")])]))])}a(4114),a(8111),a(2489),a(116),a(7588),a(1701);var we=a(953),Fe=a(7783),Te=a(1884),De=a(223),Se={name:"TaskManager",setup(){const e={apiKey:"AIzaSyDuQ5U_jvbDYwHIyvGGlIso09Vc9jnMoWU",authDomain:"termproject-89a0d.firebaseapp.com",projectId:"termproject-89a0d",storageBucket:"termproject-89a0d.firebasestorage.app",messagingSenderId:"718048077031",appId:"1:718048077031:web:0746e272b7399ac2bdee42"},t=(0,De.Wp)(e),a=(0,Fe.xI)(t),l=(0,Te.aU)(t),s=(0,we.KR)(null),r=(0,we.KR)([]),i=(0,we.KR)([]),n=(0,we.KR)([]),u=(0,we.KR)(!1),c=(0,we.KR)(!1),d=(0,we.KR)(!1),k=(0,we.KR)(!1),m=(0,we.KR)(!1),p=(0,we.KR)(!1),v=(0,we.KR)({email:"",password:""}),y=(0,we.KR)({displayName:"",email:"",password:""}),g=(0,we.KR)({title:"",description:"",dueDate:"",priority:"Medium",category:""}),L=(0,we.KR)({name:"",color:"#3498db",isDefault:!1}),b=(0,we.KR)({title:"",description:"",selectedTasks:[],isPublic:!1}),h=(0,we.KR)({emails:""}),f=(0,we.KR)(null),C=(0,we.KR)(null),w=(0,we.KR)(null),F=(0,we.KR)(!1),T=(0,we.KR)("all"),D=(0,we.KR)("dueDate"),S=(0,o.EW)((()=>{let e=[...r.value];if(w.value?e=e.filter((e=>e.category===w.value)):F.value&&(e=e.filter((e=>!e.category||""===e.category))),"all"!==T.value&&(e=e.filter((e=>e.status===T.value))),"dueDate"===D.value)e.sort(((e,t)=>new Date(e.dueDate)-new Date(t.dueDate)));else if("priority"===D.value){const t={High:1,Medium:2,Low:3};e.sort(((e,a)=>t[e.priority]-t[a.priority]))}else"creationDate"===D.value&&e.sort(((e,t)=>new Date(t.creationDate)-new Date(e.creationDate)));return e})),E=async()=>{try{const e=await(0,Fe.eJ)(a,y.value.email,y.value.password);await(0,Fe.r7)(e.user,{displayName:y.value.displayName}),await(0,Te.gS)((0,Te.rJ)(l,"users"),{uid:e.user.uid,email:y.value.email,displayName:y.value.displayName,lastLogin:(0,Te.O5)()}),c.value=!1,y.value={displayName:"",email:"",password:""}}catch(e){console.error("Registration error:",e),alert(`Registration failed: ${e.message}`)}},P=async()=>{try{await(0,Fe.x9)(a,v.value.email,v.value.password),u.value=!1,v.value={email:"",password:""}}catch(e){console.error("Login error:",e),alert(`Login failed: ${e.message}`)}},R=async()=>{try{await(0,Fe.CI)(a)}catch(e){console.error("Logout error:",e)}},O=async()=>{await Promise.all([I(),K(),U()])},I=async()=>{try{if(!s.value)return;const e=s.value.uid,t=(0,Te.P)((0,Te.rJ)(l,"tasks"),(0,Te._M)("userId","==",e)),a=(0,Te.P)((0,Te.rJ)(l,"tasks"),(0,Te._M)("sharedWith","array-contains",e)),[o,i]=await Promise.all([(0,Te.GG)(t),(0,Te.GG)(a)]),n=[];o.forEach((e=>{n.push({id:e.id,...e.data(),isOwner:!0})})),i.forEach((e=>{n.push({id:e.id,...e.data(),isOwner:!1})})),r.value=n}catch(e){console.error("Error fetching tasks:",e)}},K=async()=>{try{if(!s.value)return;const e=s.value.uid,t=(0,Te.P)((0,Te.rJ)(l,"categories"),(0,Te._M)("userId","==",e)),a=await(0,Te.GG)(t),o=[];if(a.forEach((e=>{o.push({id:e.id,...e.data()})})),i.value=o,null===w.value&&!1===F.value&&i.value.length>0){const e=i.value.find((e=>e.isDefault))||i.value[0];w.value=e.id}}catch(e){console.error("Error fetching categories:",e)}},U=async()=>{try{const e=(0,Te.P)((0,Te.rJ)(l,"sharedTemplates"),(0,Te._M)("isPublic","==",!0)),t=await(0,Te.GG)(e),a=[];t.forEach((e=>{a.push({id:e.id,...e.data()})})),n.value=a}catch(e){console.error("Error fetching templates:",e)}},X=e=>{f.value=e,g.value={title:e.title,description:e.description,dueDate:e.dueDate,priority:e.priority,category:e.category||"",status:e.status},d.value=!0},J=async()=>{try{if(f.value){const e=(0,Te.H9)(l,"tasks",f.value.id);await(0,Te.mZ)(e,{...g.value,lastModified:(0,Te.O5)()})}else await(0,Te.gS)((0,Te.rJ)(l,"tasks"),{...g.value,userId:s.value.uid,status:"Not Started",creationDate:(0,Te.O5)(),lastModified:(0,Te.O5)(),isShared:!1,sharedWith:[]});d.value=!1,g.value={title:"",description:"",dueDate:"",priority:"Medium",category:w.value||""},f.value=null,await I()}catch(e){console.error("Error saving task:",e),alert("Failed to save task. Please try again.")}},N=async e=>{if(confirm("Are you sure you want to delete this task?"))try{await(0,Te.kd)((0,Te.H9)(l,"tasks",e)),await I()}catch(t){console.error("Error deleting task:",t),alert("Failed to delete task. Please try again.")}},V=async e=>{try{const t=(0,Te.H9)(l,"tasks",e.id);await(0,Te.mZ)(t,{status:e.status,lastModified:(0,Te.O5)()})}catch(t){console.error("Error updating task status:",t),alert("Failed to update task status. Please try again."),await I()}},x=async()=>{try{await(0,Te.gS)((0,Te.rJ)(l,"categories"),{...L.value,userId:s.value.uid}),k.value=!1,L.value={name:"",color:"#3498db",isDefault:!1},await K()}catch(e){console.error("Error saving category:",e),alert("Failed to save category. Please try again.")}},M=async()=>{try{const e=[];for(const t of b.value.selectedTasks){const a=r.value.find((e=>e.id===t));a&&e.push({title:a.title,description:a.description,priority:a.priority,category:a.category})}await(0,Te.gS)((0,Te.rJ)(l,"sharedTemplates"),{title:b.value.title,description:b.value.description,tasks:e,isPublic:b.value.isPublic,creatorId:s.value.uid,downloadCount:0,createdAt:(0,Te.O5)()}),m.value=!1,b.value={title:"",description:"",selectedTasks:[],isPublic:!1},await U()}catch(e){console.error("Error creating template:",e),alert("Failed to create template. Please try again.")}},_=async e=>{try{for(const t of e.tasks)await(0,Te.gS)((0,Te.rJ)(l,"tasks"),{...t,userId:s.value.uid,dueDate:A(),status:"Not Started",creationDate:(0,Te.O5)(),lastModified:(0,Te.O5)(),isShared:!1,sharedWith:[]});await I(),alert(`Template "${e.title}" applied successfully!`)}catch(t){console.error("Error applying template:",t),alert("Failed to apply template. Please try again.")}},Q=async()=>{try{const e=h.value.emails.split(",").map((e=>e.trim())).filter((e=>e));if(0===e.length)return void alert("Please enter at least one email address.");const t=[];for(const o of e){const e=(0,Te.P)((0,Te.rJ)(l,"users"),(0,Te._M)("email","==",o)),a=await(0,Te.GG)(e);a.empty||a.forEach((e=>{t.push(e.id)}))}const a=(0,Te.H9)(l,"tasks",C.value.id);t.length>0?await(0,Te.mZ)(a,{isShared:!0,sharedWith:(0,Te.hq)(...t),lastModified:(0,Te.O5)()}):await(0,Te.mZ)(a,{isShared:!0,lastModified:(0,Te.O5)()}),p.value=!1,h.value={emails:""},C.value=null,await I(),alert("Task shared successfully!")}catch(e){console.error("Error sharing task:",e),alert("Failed to share task. Please try again.")}},B=(e,t)=>{t?(w.value=null,F.value=!1):null===e?(w.value=null,F.value=!0):(w.value=e,F.value=!1)},G=e=>{T.value=e},j=()=>{},H=e=>{if(!e)return"No due date";const t=new Date(e);return t.toLocaleDateString()},A=()=>{const e=new Date;return e.setDate(e.getDate()+7),e.toISOString().split("T")[0]};return(0,o.sV)((()=>{const e=(0,Fe.hg)(a,(e=>{s.value=e,e?O():(r.value=[],i.value=[],n.value=[])}));return()=>e()})),{user:s,tasks:r,categories:i,templates:n,filteredTasks:S,showLoginForm:u,showRegisterForm:c,showTaskForm:d,showCategoryForm:k,showTemplateForm:m,showShareTaskForm:p,loginForm:v,registerForm:y,taskForm:g,categoryForm:L,templateForm:b,shareTaskForm:h,editingTask:f,taskToShare:C,selectedCategory:w,uncategorizedOnly:F,statusFilter:T,sortBy:D,register:E,login:P,logout:R,fetchData:O,editTask:X,saveTask:J,deleteTask:N,updateTaskStatus:V,saveCategory:x,saveTemplate:M,useTemplate:_,shareTask:Q,filterByCategory:B,filterByStatus:G,sortTasks:j,formatDate:H}}},Ee=a(6262);const Pe=(0,Ee.A)(Se,[["render",Ce]]);var Re=Pe;(0,l.Ef)(Re).mount("#app")}},t={};function a(l){var o=t[l];if(void 0!==o)return o.exports;var s=t[l]={exports:{}};return e[l].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,l,o,s){if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],o=e[c][1],s=e[c][2];for(var i=!0,n=0;n<l.length;n++)(!1&s||r>=s)&&Object.keys(a.O).every((function(e){return a.O[e](l[n])}))?l.splice(n--,1):(i=!1,s<r&&(r=s));if(i){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[l,o,s]}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,s,r=l[0],i=l[1],n=l[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(n)var c=n(a)}for(t&&t(l);u<r.length;u++)s=r[u],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},l=self["webpackChunktask_manager"]=self["webpackChunktask_manager"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(1473)}));l=a.O(l)})();
//# sourceMappingURL=app.e896c510.js.map